<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GC Perf — Fiches véhicules</title>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
  color:#e5e7eb;
  background:#0b0f16;
  background-image:repeating-linear-gradient(45deg,rgba(255,255,255,.05)0,rgba(255,255,255,.05)1px,transparent 2px,transparent 20px);
}
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 20px;
  background:#0f172a;border-bottom:1px solid #1f2937;
}
.badge{background:#ef233c;color:#fff;padding:6px 14px;border-radius:999px;font-weight:700}
button,input{padding:10px;border-radius:8px;border:1px solid #243041;background:#071018;color:#e5e7eb}
button.primary{background:#ef233c;border-color:#b91c1c}
.hidden{display:none}
.card{background:#0f172a;border:1px solid #1f2937;border-radius:12px;padding:14px;margin:16px auto;max-width:800px}
.modal{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.7);
}
.modal-box{
  background:#0f172a;padding:24px;border-radius:12px;border:1px solid #243041;min-width:300px;
}
</style>
</head>
<body>

<header>
  <div class="badge">GC PERF</div>
  <div>
    <button id="btnLogout" class="hidden" onclick="logout()">Déconnexion</button>
  </div>
</header>

<main>
  <div class="card">
    <h2>Fiches Véhicules</h2>
    <p id="info">Veuillez entrer le mot de passe pour accéder aux fiches.</p>
    <button id="btnNew" class="primary hidden">+ Nouvelle fiche</button>
  </div>
</main>

<!-- Fenêtre de mot de passe -->
<div id="passwordModal" class="modal">
  <div class="modal-box">
    <h3>Accès sécurisé</h3>
    <p>Entrer le mot de passe GC Perf :</p>
    <input id="passwordInput" type="password" placeholder="Mot de passe" style="width:100%;margin-top:8px">
    <div style="margin-top:10px;text-align:right">
      <button class="primary" onclick="checkPassword()">Valider</button>
    </div>
    <p id="errorMsg" style="color:#ef4444;font-size:13px;margin-top:8px;display:none">
      Mot de passe incorrect ❌
    </p>
  </div>
</div>

<script>
// === Mot de passe fixe ===
const PASSWORD = "GcPerf";

function checkPassword(){
  const input = document.getElementById('passwordInput').value.trim();
  if(input === PASSWORD){
    document.getElementById('passwordModal').style.display = "none";
    document.getElementById('btnNew').classList.remove('hidden');
    document.getElementById('btnLogout').classList.remove('hidden');
    document.getElementById('info').textContent = "Accès autorisé ✅";
    localStorage.setItem("gcperf_logged", "1");
  }else{
    const msg = document.getElementById('errorMsg');
    msg.style.display = "block";
    setTimeout(()=> msg.style.display="none", 2000);
  }
}

function logout(){
  localStorage.removeItem("gcperf_logged");
  location.reload();
}

// Persistance locale (si déjà connecté)
window.addEventListener("load", ()=>{
  if(localStorage.getItem("gcperf_logged") === "1"){
    document.getElementById('passwordModal').style.display = "none";
    document.getElementById('btnNew').classList.remove('hidden');
    document.getElementById('btnLogout').classList.remove('hidden');
    document.getElementById('info').textContent = "Accès autorisé ✅";
  }
});
</script>

</body>
</html>
